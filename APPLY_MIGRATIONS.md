# üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π Supabase

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏:
```
Error loading suppliers: Could not find the table 'public.suppliers' in the schema cache
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã `suppliers` –∏ `expenses` –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏–∏

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Supabase Dashboard (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase:**
   ```
   https://supabase.com/dashboard/project/pfxzckysajoeuafisfym/sql
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (New Query)**

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**
   ```
   supabase/migrations/20251016071000_create_suppliers_expenses_tables.sql
   ```

4. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor –∏ –Ω–∞–∂–º–∏—Ç–µ "Run" (–∏–ª–∏ F5)**

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Success"
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Table Editor –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã `suppliers` –∏ `expenses` —Å–æ–∑–¥–∞–Ω—ã

---

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Supabase CLI (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/armencolahan/–†–ï–î–ê–ö–¢–û–†\ CRM/CRM

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
supabase db push
```

---

## üìã –ß—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –º–∏–≥—Ä–∞—Ü–∏—è

### –¢–∞–±–ª–∏—Ü–∞ `suppliers` (–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏):
- `id` - UUID (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
- `user_id` - UUID (—Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- `name` - TEXT (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞) **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**
- `contact_person` - TEXT (–∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ)
- `phone` - TEXT (—Ç–µ–ª–µ—Ñ–æ–Ω)
- `email` - TEXT (email)
- `address` - TEXT (–∞–¥—Ä–µ—Å)
- `inn` - TEXT (–ò–ù–ù)
- `notes` - TEXT (–∑–∞–º–µ—Ç–∫–∏)
- `created_at` - TIMESTAMPTZ (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è)
- `updated_at` - TIMESTAMPTZ (–¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### –¢–∞–±–ª–∏—Ü–∞ `expenses` (–†–∞—Å—Ö–æ–¥—ã):
- `id` - UUID (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
- `tender_id` - UUID (—Å–≤—è–∑—å —Å —Ç–µ–Ω–¥–µ—Ä–æ–º) **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**
- `amount` - NUMERIC (—Å—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–∞) **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**
- `description` - TEXT (–æ–ø–∏—Å–∞–Ω–∏–µ)
- `category` - TEXT (–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- `date` - DATE (–¥–∞—Ç–∞ —Ä–∞—Å—Ö–æ–¥–∞) **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**
- `created_at` - TIMESTAMPTZ (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS):
- ‚úÖ –í–∫–ª—é—á–µ–Ω Row Level Security –¥–ª—è –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –†–∞—Å—Ö–æ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–Ω–¥–µ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ò–Ω–¥–µ–∫—Å—ã:
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –ø–æ user_id, tender_id, name, date

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase Dashboard:
```
https://supabase.com/dashboard/project/pfxzckysajoeuafisfym/editor
```

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ã:
- ‚úÖ `suppliers`
- ‚úÖ `expenses`

### 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
# –ï—Å–ª–∏ –Ω–µ—Ç, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F5)
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
- –û—à–∏–±–∫–∏ `PGRST205` –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å
- –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
  ```
  DataContext: All data loaded successfully
  ```

---

## üöÄ –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

–¢–µ–ø–µ—Ä—å –≤—ã —Å–º–æ–∂–µ—Ç–µ:
1. ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏"
2. ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –∫ —Ç–µ–Ω–¥–µ—Ä–∞–º –≤ —Ä–∞–∑–¥–µ–ª–µ "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è"
3. ‚úÖ –í–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º
4. ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ CRM –±–µ–∑ –æ—à–∏–±–æ–∫

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç Supabase
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public';
```

### –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
–ú–∏–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `CREATE TABLE IF NOT EXISTS`, –ø–æ—ç—Ç–æ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π:
- `supabase/migrations/` - –≤—Å–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –¥–∞—Ç—ã –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

### –î—Ä—É–≥–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
–í –ø–∞–ø–∫–µ `supabase/migrations/` –µ—Å—Ç—å –µ—â–µ 15 –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `tenders` –∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `tenders` —Ç–æ–∂–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
