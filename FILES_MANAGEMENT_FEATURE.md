# ✅ Добавлена функция управления файлами

## Что добавлено

Создана полноценная система управления файлами для скачивания на дашборде с возможностью добавления, редактирования и удаления файлов.

## 🎯 Основные возможности

### 1. **Страница управления файлами** (`/files`)

Новая страница в админ-панели для управления файлами:
- ✅ Добавление новых файлов
- ✅ Редактирование существующих файлов
- ✅ Удаление файлов (кроме дефолтных)
- ✅ Просмотр всех загруженных файлов

### 2. **Отображение на дашборде**

Файлы автоматически отображаются на главной странице:
- ✅ Название файла
- ✅ Описание (если указано)
- ✅ Тип файла (если указан)
- ✅ Прямая ссылка для скачивания

### 3. **Хранение данных**

Все файлы сохраняются в localStorage и не исчезают при обновлении страницы.

---

## 📋 Как использовать

### Добавление файла:

1. Откройте **"Файлы"** в меню навигации
2. Нажмите **"Добавить файл"**
3. Заполните форму:
   - **Название файла** (обязательно) - например: "Инструкция по работе"
   - **Описание** (необязательно) - краткое описание
   - **Ссылка на файл** (обязательно) - прямая ссылка на файл
   - **Тип файла** (необязательно) - PDF, DOCX, XLSX и т.д.
4. Нажмите **"Добавить"**

### Редактирование файла:

1. На странице **"Файлы"** найдите нужный файл
2. Нажмите иконку **редактирования** (карандаш)
3. Измените нужные поля
4. Нажмите **"Сохранить"**

### Удаление файла:

1. На странице **"Файлы"** найдите нужный файл
2. Нажмите иконку **удаления** (корзина)
3. Подтвердите удаление

**Примечание:** Дефолтные файлы (с флагом `isDefault`) нельзя удалить.

---

## 🔗 Как получить ссылку на файл

### Google Drive:

1. Загрузите файл на Google Drive
2. Нажмите правой кнопкой → "Получить ссылку"
3. Измените доступ на "Все, у кого есть ссылка"
4. Скопируйте ссылку
5. Измените формат ссылки:
   - **Было:** `https://drive.google.com/file/d/FILE_ID/view?usp=sharing`
   - **Стало:** `https://drive.google.com/uc?export=download&id=FILE_ID`

### Dropbox:

1. Загрузите файл на Dropbox
2. Нажмите "Поделиться"
3. Создайте ссылку
4. Измените `dl=0` на `dl=1` в конце ссылки

### Яндекс.Диск:

1. Загрузите файл
2. Нажмите "Поделиться"
3. Скопируйте публичную ссылку

### Собственный сервер:

Используйте прямую ссылку на файл, например:
- `https://example.com/files/document.pdf`

---

## 💾 Структура данных

### Интерфейс DownloadableFile:

```typescript
export interface DownloadableFile {
  id: string;                // Уникальный ID
  name: string;              // Название файла
  description: string;       // Описание
  url: string;               // Ссылка на файл
  fileType: string;          // Тип файла (PDF, DOCX и т.д.)
  uploadDate: string;        // Дата загрузки
  isDefault?: boolean;       // Флаг дефолтного файла
}
```

### Пример данных:

```json
{
  "id": "1697123456789",
  "name": "Инструкция по работе",
  "description": "Подробная инструкция для новых сотрудников",
  "url": "https://drive.google.com/uc?export=download&id=ABC123",
  "fileType": "PDF",
  "uploadDate": "2024-10-14T12:00:00.000Z",
  "isDefault": false
}
```

---

## 🎨 Интерфейс

### Страница управления файлами:

```
┌─────────────────────────────────────────────────────┐
│ Управление файлами              [+ Добавить файл]   │
│ Загрузка файлов для скачивания на дашборде          │
├─────────────────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐   │
│ │ 📄 Файл 1   │ │ 📄 Файл 2   │ │ 📄 Файл 3   │   │
│ │ PDF         │ │ DOCX        │ │ XLSX        │   │
│ │ Описание... │ │ Описание... │ │ Описание... │   │
│ │ 14.10.2024  │ │ 14.10.2024  │ │ 14.10.2024  │   │
│ │ [✏️] [🗑️]   │ │ [✏️] [🗑️]   │ │ [✏️] [🗑️]   │   │
│ └─────────────┘ └─────────────┘ └─────────────┘   │
└─────────────────────────────────────────────────────┘
```

### Дашборд (секция файлов):

```
┌─────────────────────────────────────────────────────┐
│ Файлы для скачивания                                │
│ Документы компании                                  │
├─────────────────────────────────────────────────────┤
│ [⬇️] Инструкция по работе                    PDF   │
│     Подробная инструкция для новых сотрудников      │
├─────────────────────────────────────────────────────┤
│ [⬇️] Карта предприятия                       PDF   │
│     Схема расположения объектов                     │
└─────────────────────────────────────────────────────┘
```

---

## 🔧 Технические детали

### Новые файлы:

1. **`src/types/index.ts`**
   - Добавлен интерфейс `DownloadableFile`

2. **`src/context/DataContext.tsx`**
   - Добавлено состояние `downloadableFiles`
   - Добавлены функции:
     - `addDownloadableFile`
     - `updateDownloadableFile`
     - `deleteDownloadableFile`

3. **`src/pages/FilesManagementPage.tsx`**
   - Новая страница управления файлами
   - Форма добавления/редактирования
   - Отображение карточек файлов

4. **`src/App.tsx`**
   - Добавлен маршрут `/files`

5. **`src/components/Layout.tsx`**
   - Добавлен пункт меню "Файлы"

6. **`src/pages/DashboardPage.tsx`**
   - Обновлена секция "Файлы для скачивания"
   - Динамическое отображение файлов из DataContext

---

## ✅ Преимущества

1. **Гибкость** - можно добавлять любые файлы
2. **Простота** - интуитивный интерфейс
3. **Безопасность** - файлы хранятся на внешних сервисах
4. **Удобство** - все файлы в одном месте
5. **Редактирование** - можно изменить название и описание
6. **Автоматизация** - файлы сразу появляются на дашборде

---

## 📊 Примеры использования

### Пример 1: Инструкция для сотрудников

- **Название:** Инструкция по работе с CRM
- **Описание:** Подробное руководство для новых сотрудников
- **Ссылка:** https://drive.google.com/uc?export=download&id=ABC123
- **Тип:** PDF

### Пример 2: Шаблон документа

- **Название:** Шаблон коммерческого предложения
- **Описание:** Стандартный шаблон для подготовки КП
- **Ссылка:** https://dropbox.com/s/xyz/template.docx?dl=1
- **Тип:** DOCX

### Пример 3: Прайс-лист

- **Название:** Прайс-лист на услуги
- **Описание:** Актуальные цены на 2024 год
- **Ссылка:** https://example.com/files/price-list.xlsx
- **Тип:** XLSX

---

## 🎯 Рекомендации

### Что загружать:

- ✅ Инструкции и руководства
- ✅ Шаблоны документов
- ✅ Прайс-листы
- ✅ Презентации компании
- ✅ Сертификаты и лицензии
- ✅ Карты и схемы

### Где хранить файлы:

- ✅ **Google Drive** - удобно, бесплатно до 15 ГБ
- ✅ **Dropbox** - надежно, бесплатно до 2 ГБ
- ✅ **Яндекс.Диск** - для российских компаний
- ✅ **Собственный сервер** - полный контроль

### Советы:

1. Используйте понятные названия файлов
2. Добавляйте описания для ясности
3. Указывайте тип файла
4. Проверяйте ссылки перед сохранением
5. Регулярно обновляйте устаревшие файлы

---

## ✅ Готово!

Теперь у вас есть полноценная система управления файлами:
- 📁 Добавляйте любые файлы
- ✏️ Редактируйте информацию
- 🗑️ Удаляйте ненужные
- 📊 Все файлы на дашборде

**Приятной работы! 🚀**
